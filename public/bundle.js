/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./public/ticker.js":
/*!**************************!*\
  !*** ./public/ticker.js ***!
  \**************************/
/***/ (() => {

eval("// Function to add a game record\nfunction addGameRecord(gameData) {\n    fetch('/addGameRecord', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(gameData),\n    })\n    .then(response => {\n        console.log(\"Response for addGameRecord from Firebase:\", response);\n        return response.json();\n    })\n    .then(data => {\n        console.log(data)\n        \n        // Reload other sections\n        filterGamesByYear(2025);\n    })\n    .catch(error => console.error('Error adding game record:', error));\n}\n\n// Function to get game records\nfunction getGameRecords(year) {\n    fetch(`/getGameRecords?year=${year}`)\n    .then(response => {\n        console.log(\"Response for getGameRecords from Firebase:\", response);\n        return response.json();\n    })\n    .then(data => {\n        const gameTableBody = document.getElementById('gameTable').getElementsByTagName('tbody')[0];\n        gameTableBody.innerHTML = '';\n        data.forEach(record => {\n            const row = gameTableBody.insertRow();\n\n            const dateCell = row.insertCell();\n            const player1Cell = row.insertCell();\n            const player2Cell = row.insertCell();\n            const score1Cell = row.insertCell();\n            const score2Cell = row.insertCell();\n            const winnerCell = row.insertCell();\n\n            dateCell.innerText = record.date;\n            player1Cell.innerText = record.player1;\n            player2Cell.innerText = record.player2;\n            score1Cell.innerText = record.score.player1;\n            score2Cell.innerText = record.score.player2;\n            winnerCell.innerText = record.winner;\n\n            // Add winner/loser styling\n            if (record.winner === record.player1) {\n                player1Cell.classList.add('winner');\n                player2Cell.classList.add('loser');\n                winnerCell.classList.add('winner');\n            } else {\n                player1Cell.classList.add('loser');\n                player2Cell.classList.add('winner');\n                winnerCell.classList.add('winner');\n            }\n\n            dateCell.setAttribute('data-label', 'Date');\n            player1Cell.setAttribute('data-label', 'Player 1');\n            player2Cell.setAttribute('data-label', 'Player 2');\n            score1Cell.setAttribute('data-label', 'Score P1');\n            score2Cell.setAttribute('data-label', 'Score P2');\n            winnerCell.setAttribute('data-label', 'Winner');\n        });\n    })\n    .catch(error => console.error('Error getting game records:', error));\n}\n\n// Function to get game summary\nfunction getGameSummary(year) {\n    // First get all games for last 10 calculation\n    Promise.all([\n        fetch(`/getSummary?year=${year}`).then(response => response.json()),\n        fetch(`/getGameRecords?year=${year}`).then(response => response.json())\n    ])\n    .then(([summaryData, allGames]) => {\n        const processedSummaryData = {};\n        summaryData.forEach(record => {\n            if (!processedSummaryData[record.player]) {\n                processedSummaryData[record.player] = {\n                    player: record.player,\n                    opponents: []\n                };\n            }\n            processedSummaryData[record.player].opponents.push({\n                name: record.opponent,\n                gamesPlayed: record.gamesPlayed,\n                wins: record.wins,\n                losses: record.losses\n            });\n        });\n\n        const summaryGrid = document.getElementById(\"summaryGrid\");\n        summaryGrid.innerHTML = \"\";\n\n        // Add the leaderboard\n        const leaderboardHTML = generateLeaderboard(processedSummaryData, allGames);\n        const leaderboardHTMLDiv = document.createElement(\"div\");\n        leaderboardHTMLDiv.classList.add(\"player-summary\");\n        leaderboardHTMLDiv.innerHTML = leaderboardHTML;\n        summaryGrid.appendChild(leaderboardHTMLDiv);\n\n        // Add the player tabs\n        const playerTabs = document.getElementById(\"playerTabs\");\n        const tabsContainer = document.createElement(\"div\");\n        tabsContainer.classList.add(\"player-tabs-container\");\n        \n        // Create tabs header\n        const tabsHeader = document.createElement(\"div\");\n        tabsHeader.classList.add(\"tabs-header\");\n        tabsHeader.innerHTML = Object.values(processedSummaryData).map((playerSummary, index) => `\n            <button class=\"tab-button ${index === 0 ? 'active' : ''}\" \n                    data-player=\"${playerSummary.player}\">\n                ${playerSummary.player}\n            </button>\n        `).join('');\n\n        // Create tabs content\n        const tabsContent = document.createElement(\"div\");\n        tabsContent.classList.add(\"tabs-content\");\n        tabsContent.innerHTML = Object.values(processedSummaryData).map((playerSummary, index) => `\n            <div class=\"tab-content ${index === 0 ? 'active' : ''}\" \n                 id=\"tab-${playerSummary.player}\">\n                <table class=\"summary-table\">\n                    <thead>\n                        <tr>\n                            <th>Opponent</th>\n                            <th>Games</th>\n                            <th>Wins</th>\n                            <th>Losses</th>\n                            <th>Win %</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${playerSummary.opponents.map(opponent => `\n                            <tr>\n                                <td>${opponent.name}</td>\n                                <td>${opponent.gamesPlayed}</td>\n                                <td>${opponent.wins}</td>\n                                <td>${opponent.losses}</td>\n                                <td>${(opponent.wins / opponent.gamesPlayed * 100).toFixed(2)}%</td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n            </div>\n        `).join('');\n\n        tabsContainer.appendChild(tabsHeader);\n        tabsContainer.appendChild(tabsContent);\n        playerTabs.innerHTML = ''; // Clear existing content\n        playerTabs.appendChild(tabsContainer);\n\n        // Add click handlers for tabs\n        document.querySelectorAll('.tab-button').forEach(button => {\n            button.addEventListener('click', () => {\n                document.querySelectorAll('.tab-button').forEach(btn => \n                    btn.classList.remove('active'));\n                document.querySelectorAll('.tab-content').forEach(content => \n                    content.classList.remove('active'));\n                \n                button.classList.add('active');\n                document.getElementById(`tab-${button.dataset.player}`).classList.add('active');\n            });\n        });\n    })\n    .catch(error => console.error('Error getting game summary:', error));\n}\n\n// Add this new function to calculate last 10 games performance\nfunction getLastTenGamesPerformance(player, allGames) {\n    // Get all games for this player (either as player1 or player2)\n    const playerGames = allGames\n        .filter(game => game.player1 === player || game.player2 === player)\n        .sort((a, b) => new Date(b.date) - new Date(a.date)) // Sort by date descending\n        .slice(0, 10); // Get last 10 games\n\n    // Count wins in these games\n    const wins = playerGames.filter(game => game.winner === player).length;\n    return `${wins}/${playerGames.length}`; // Format as \"wins/games\"\n}\n\n// Update the generateLeaderboard function\nfunction generateLeaderboard(playerSummaries, allGames) {\n    let overallData = [];\n\n    Object.values(playerSummaries).forEach(playerSummary => {\n        overallData.push({\n            player: playerSummary.player,\n            ...aggregateOverallData(playerSummary.opponents),\n            lastTen: getLastTenGamesPerformance(playerSummary.player, allGames)\n        });\n    });\n\n    // Sort by winPercentage desc\n    overallData.sort((a, b) => b.winPercentage - a.winPercentage);\n\n    let leaderboardHTML = `\n        <h2><i class=\"fas fa-crown\"></i> Power Rankings</h2>\n        <table class=\"summary-table\">\n            <thead>\n                <tr>\n                    <th>Player</th>\n                    <th>Games</th>\n                    <th>Wins</th>\n                    <th>Losses</th>\n                    <th>Win %</th>\n                    <th>Last 10</th>\n                </tr>\n            </thead>\n            <tbody>\n    `;\n\n    overallData.forEach((playerData, index) => {\n        const rankClass = index === 0 ? 'rank-gold' : \n                         index === 1 ? 'rank-silver' : \n                         index === 2 ? 'rank-bronze' : '';\n        const medalClass = index === 0 ? 'medal-gold' : \n                          index === 1 ? 'medal-silver' : \n                          index === 2 ? 'medal-bronze' : '';\n        \n        leaderboardHTML += `\n            <tr class=\"${rankClass}\">\n                <td data-label=\"Player\"><span class=\"${medalClass}\">${playerData.player}</span></td>\n                <td data-label=\"Games\">${playerData.totalGames}</td>\n                <td data-label=\"Wins\">${playerData.totalWins}</td>\n                <td data-label=\"Losses\">${playerData.totalLosses}</td>\n                <td data-label=\"Win %\">${playerData.winPercentage}%</td>\n                <td data-label=\"Last 10\">${playerData.lastTen}</td>\n            </tr>\n        `;\n    });\n\n    leaderboardHTML += `\n            </tbody>\n        </table>\n    `;\n\n    return leaderboardHTML;\n}\n\n// Assuming playerSummaries is an array containing player summary objects with per-opponent data\n// Function to aggregate per-opponent data to calculate overall statistics\nfunction aggregateOverallData(playerSummaries) {\n    // Initialize variables to store overall statistics\n    let totalGames = 0;\n    let totalWins = 0;\n    let totalLosses = 0;\n\n    // Iterate over each player summary to aggregate data\n    playerSummaries.forEach(playerSummary => {\n        // Increment total games\n        totalGames += playerSummary.gamesPlayed;\n\n        // Increment total wins\n        totalWins += playerSummary.wins;\n\n        // Increment total losses\n        totalLosses += playerSummary.losses;\n    });\n\n    // Calculate overall win percentage\n    const winPercentage = totalGames > 0 ? ((totalWins / totalGames) * 100).toFixed(2) : 0;\n\n    // Return an object containing the aggregated overall data\n    return {\n        totalGames,\n        totalWins,\n        totalLosses,\n        winPercentage\n    };\n}\n\nfunction filterGamesByYear(year) {\n    const yearParam = year >= 2025 ? year : '';\n    getGameRecords(yearParam);\n    getGameSummary(yearParam);\n\n    // Update active state of year buttons\n    document.getElementById('year2025').classList.toggle('active', year === 2025);\n    document.getElementById('year2024').classList.toggle('active', year === 2024);\n}\n\nfunction updatePlayerOptions() {\n    const player1Select = document.getElementById('player1');\n    const player2Select = document.getElementById('player2');\n    const player1Value = player1Select.value;\n    const player2Value = player2Select.value;\n\n    // Save to localStorage when values change\n    if (player1Value) localStorage.setItem('lastPlayer1', player1Value);\n    if (player2Value) localStorage.setItem('lastPlayer2', player2Value);\n\n    const allOptions = ['Akash', 'Aditya', 'Anurag', 'Bumbu', 'Karan', 'Htike', 'Manu', 'Rishabh', 'Sabari'];\n\n    player1Select.innerHTML = '<option value=\"\">Select Player 1</option>';\n    player2Select.innerHTML = '<option value=\"\">Select Player 2</option>';\n\n    allOptions.forEach(player => {\n        if (player !== player2Value) {\n            player1Select.innerHTML += `<option value=\"${player}\">${player}</option>`;\n        }\n        if (player !== player1Value) {\n            player2Select.innerHTML += `<option value=\"${player}\">${player}</option>`;\n        }\n    });\n\n    player1Select.value = player1Value;\n    player2Select.value = player2Value;\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Set default date to today\n    const today = new Date().toISOString().split('T')[0];\n    document.getElementById('date').value = today;\n    \n    // Set default scores to 21\n    document.getElementById('score1').value = \"21\";\n    document.getElementById('score2').value = \"21\";\n    \n    // Get last selected players from localStorage\n    const lastPlayer1 = localStorage.getItem('lastPlayer1');\n    const lastPlayer2 = localStorage.getItem('lastPlayer2');\n    \n    if (lastPlayer1) document.getElementById('player1').value = lastPlayer1;\n    if (lastPlayer2) document.getElementById('player2').value = lastPlayer2;\n    \n    document.getElementById('player1').addEventListener('change', updatePlayerOptions);\n    document.getElementById('player2').addEventListener('change', updatePlayerOptions);\n\n    document.getElementById('year2025').addEventListener('click', () => filterGamesByYear(2025));\n    document.getElementById('year2024').addEventListener('click', () => filterGamesByYear(2024));\n\n// Function to handle form submission\n    document.getElementById(\"gameForm\").addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n\n        let player1Name = formData.get(\"player1\")\n        let player2Name = formData.get(\"player2\")\n        let score1 = parseInt(formData.get(\"score1\"))\n        let score2 = parseInt(formData.get(\"score2\"))\n\n        const gameData = {\n            date: formData.get(\"date\"),\n            player1: player1Name,\n            player2: player2Name,\n            score: {\n                player1: score1,\n                player2: score2\n            },\n            winner: score1 > score2 ? player1Name : player2Name\n        };\n        // Call function to add game record\n        addGameRecord(gameData);\n\n        // Clear form fields after submission\n        e.target.reset();\n    });\n\n    // Initialize fetch functions\n    const currentYear = new Date().getFullYear();\n    filterGamesByYear(currentYear);\n\n    // Add year select handler\n    document.getElementById('yearSelect').addEventListener('change', (e) => {\n        filterGamesByYear(parseInt(e.target.value));\n    });\n\n    // Set initial year in dropdown\n    document.getElementById('yearSelect').value = \"2025\";\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTyxJQUFJLE9BQU87QUFDM0U7QUFDQTtBQUNBLHlEQUF5RCxPQUFPLElBQUksT0FBTztBQUMzRTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcHVibGljL3RpY2tlci5qcz8zYmRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZ1bmN0aW9uIHRvIGFkZCBhIGdhbWUgcmVjb3JkXG5mdW5jdGlvbiBhZGRHYW1lUmVjb3JkKGdhbWVEYXRhKSB7XG4gICAgZmV0Y2goJy9hZGRHYW1lUmVjb3JkJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZ2FtZURhdGEpLFxuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3BvbnNlIGZvciBhZGRHYW1lUmVjb3JkIGZyb20gRmlyZWJhc2U6XCIsIHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICBcbiAgICAgICAgLy8gUmVsb2FkIG90aGVyIHNlY3Rpb25zXG4gICAgICAgIGZpbHRlckdhbWVzQnlZZWFyKDIwMjUpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBnYW1lIHJlY29yZDonLCBlcnJvcikpO1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgZ2FtZSByZWNvcmRzXG5mdW5jdGlvbiBnZXRHYW1lUmVjb3Jkcyh5ZWFyKSB7XG4gICAgZmV0Y2goYC9nZXRHYW1lUmVjb3Jkcz95ZWFyPSR7eWVhcn1gKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXNwb25zZSBmb3IgZ2V0R2FtZVJlY29yZHMgZnJvbSBGaXJlYmFzZTpcIiwgcmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGdhbWVUYWJsZUJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZVRhYmxlJykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3Rib2R5JylbMF07XG4gICAgICAgIGdhbWVUYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGRhdGEuZm9yRWFjaChyZWNvcmQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gZ2FtZVRhYmxlQm9keS5pbnNlcnRSb3coKTtcblxuICAgICAgICAgICAgY29uc3QgZGF0ZUNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICAgICAgY29uc3QgcGxheWVyMUNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICAgICAgY29uc3QgcGxheWVyMkNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpO1xuICAgICAgICAgICAgY29uc3Qgc2NvcmUxQ2VsbCA9IHJvdy5pbnNlcnRDZWxsKCk7XG4gICAgICAgICAgICBjb25zdCBzY29yZTJDZWxsID0gcm93Lmluc2VydENlbGwoKTtcbiAgICAgICAgICAgIGNvbnN0IHdpbm5lckNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpO1xuXG4gICAgICAgICAgICBkYXRlQ2VsbC5pbm5lclRleHQgPSByZWNvcmQuZGF0ZTtcbiAgICAgICAgICAgIHBsYXllcjFDZWxsLmlubmVyVGV4dCA9IHJlY29yZC5wbGF5ZXIxO1xuICAgICAgICAgICAgcGxheWVyMkNlbGwuaW5uZXJUZXh0ID0gcmVjb3JkLnBsYXllcjI7XG4gICAgICAgICAgICBzY29yZTFDZWxsLmlubmVyVGV4dCA9IHJlY29yZC5zY29yZS5wbGF5ZXIxO1xuICAgICAgICAgICAgc2NvcmUyQ2VsbC5pbm5lclRleHQgPSByZWNvcmQuc2NvcmUucGxheWVyMjtcbiAgICAgICAgICAgIHdpbm5lckNlbGwuaW5uZXJUZXh0ID0gcmVjb3JkLndpbm5lcjtcblxuICAgICAgICAgICAgLy8gQWRkIHdpbm5lci9sb3NlciBzdHlsaW5nXG4gICAgICAgICAgICBpZiAocmVjb3JkLndpbm5lciA9PT0gcmVjb3JkLnBsYXllcjEpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIxQ2VsbC5jbGFzc0xpc3QuYWRkKCd3aW5uZXInKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIyQ2VsbC5jbGFzc0xpc3QuYWRkKCdsb3NlcicpO1xuICAgICAgICAgICAgICAgIHdpbm5lckNlbGwuY2xhc3NMaXN0LmFkZCgnd2lubmVyJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYXllcjFDZWxsLmNsYXNzTGlzdC5hZGQoJ2xvc2VyJyk7XG4gICAgICAgICAgICAgICAgcGxheWVyMkNlbGwuY2xhc3NMaXN0LmFkZCgnd2lubmVyJyk7XG4gICAgICAgICAgICAgICAgd2lubmVyQ2VsbC5jbGFzc0xpc3QuYWRkKCd3aW5uZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0ZUNlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWxhYmVsJywgJ0RhdGUnKTtcbiAgICAgICAgICAgIHBsYXllcjFDZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1sYWJlbCcsICdQbGF5ZXIgMScpO1xuICAgICAgICAgICAgcGxheWVyMkNlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWxhYmVsJywgJ1BsYXllciAyJyk7XG4gICAgICAgICAgICBzY29yZTFDZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1sYWJlbCcsICdTY29yZSBQMScpO1xuICAgICAgICAgICAgc2NvcmUyQ2VsbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbGFiZWwnLCAnU2NvcmUgUDInKTtcbiAgICAgICAgICAgIHdpbm5lckNlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWxhYmVsJywgJ1dpbm5lcicpO1xuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGdhbWUgcmVjb3JkczonLCBlcnJvcikpO1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgZ2FtZSBzdW1tYXJ5XG5mdW5jdGlvbiBnZXRHYW1lU3VtbWFyeSh5ZWFyKSB7XG4gICAgLy8gRmlyc3QgZ2V0IGFsbCBnYW1lcyBmb3IgbGFzdCAxMCBjYWxjdWxhdGlvblxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgZmV0Y2goYC9nZXRTdW1tYXJ5P3llYXI9JHt5ZWFyfWApLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKSxcbiAgICAgICAgZmV0Y2goYC9nZXRHYW1lUmVjb3Jkcz95ZWFyPSR7eWVhcn1gKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICBdKVxuICAgIC50aGVuKChbc3VtbWFyeURhdGEsIGFsbEdhbWVzXSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRTdW1tYXJ5RGF0YSA9IHt9O1xuICAgICAgICBzdW1tYXJ5RGF0YS5mb3JFYWNoKHJlY29yZCA9PiB7XG4gICAgICAgICAgICBpZiAoIXByb2Nlc3NlZFN1bW1hcnlEYXRhW3JlY29yZC5wbGF5ZXJdKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkU3VtbWFyeURhdGFbcmVjb3JkLnBsYXllcl0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjogcmVjb3JkLnBsYXllcixcbiAgICAgICAgICAgICAgICAgICAgb3Bwb25lbnRzOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9jZXNzZWRTdW1tYXJ5RGF0YVtyZWNvcmQucGxheWVyXS5vcHBvbmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVjb3JkLm9wcG9uZW50LFxuICAgICAgICAgICAgICAgIGdhbWVzUGxheWVkOiByZWNvcmQuZ2FtZXNQbGF5ZWQsXG4gICAgICAgICAgICAgICAgd2luczogcmVjb3JkLndpbnMsXG4gICAgICAgICAgICAgICAgbG9zc2VzOiByZWNvcmQubG9zc2VzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3VtbWFyeUdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1bW1hcnlHcmlkXCIpO1xuICAgICAgICBzdW1tYXJ5R3JpZC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgbGVhZGVyYm9hcmRcbiAgICAgICAgY29uc3QgbGVhZGVyYm9hcmRIVE1MID0gZ2VuZXJhdGVMZWFkZXJib2FyZChwcm9jZXNzZWRTdW1tYXJ5RGF0YSwgYWxsR2FtZXMpO1xuICAgICAgICBjb25zdCBsZWFkZXJib2FyZEhUTUxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsZWFkZXJib2FyZEhUTUxEaXYuY2xhc3NMaXN0LmFkZChcInBsYXllci1zdW1tYXJ5XCIpO1xuICAgICAgICBsZWFkZXJib2FyZEhUTUxEaXYuaW5uZXJIVE1MID0gbGVhZGVyYm9hcmRIVE1MO1xuICAgICAgICBzdW1tYXJ5R3JpZC5hcHBlbmRDaGlsZChsZWFkZXJib2FyZEhUTUxEaXYpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgcGxheWVyIHRhYnNcbiAgICAgICAgY29uc3QgcGxheWVyVGFicyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyVGFic1wiKTtcbiAgICAgICAgY29uc3QgdGFic0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRhYnNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInBsYXllci10YWJzLWNvbnRhaW5lclwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSB0YWJzIGhlYWRlclxuICAgICAgICBjb25zdCB0YWJzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGFic0hlYWRlci5jbGFzc0xpc3QuYWRkKFwidGFicy1oZWFkZXJcIik7XG4gICAgICAgIHRhYnNIZWFkZXIuaW5uZXJIVE1MID0gT2JqZWN0LnZhbHVlcyhwcm9jZXNzZWRTdW1tYXJ5RGF0YSkubWFwKChwbGF5ZXJTdW1tYXJ5LCBpbmRleCkgPT4gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRhYi1idXR0b24gJHtpbmRleCA9PT0gMCA/ICdhY3RpdmUnIDogJyd9XCIgXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcGxheWVyPVwiJHtwbGF5ZXJTdW1tYXJ5LnBsYXllcn1cIj5cbiAgICAgICAgICAgICAgICAke3BsYXllclN1bW1hcnkucGxheWVyfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGApLmpvaW4oJycpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0YWJzIGNvbnRlbnRcbiAgICAgICAgY29uc3QgdGFic0NvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0YWJzQ29udGVudC5jbGFzc0xpc3QuYWRkKFwidGFicy1jb250ZW50XCIpO1xuICAgICAgICB0YWJzQ29udGVudC5pbm5lckhUTUwgPSBPYmplY3QudmFsdWVzKHByb2Nlc3NlZFN1bW1hcnlEYXRhKS5tYXAoKHBsYXllclN1bW1hcnksIGluZGV4KSA9PiBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgJHtpbmRleCA9PT0gMCA/ICdhY3RpdmUnIDogJyd9XCIgXG4gICAgICAgICAgICAgICAgIGlkPVwidGFiLSR7cGxheWVyU3VtbWFyeS5wbGF5ZXJ9XCI+XG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwic3VtbWFyeS10YWJsZVwiPlxuICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk9wcG9uZW50PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+R2FtZXM8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5XaW5zPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+TG9zc2VzPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+V2luICU8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtwbGF5ZXJTdW1tYXJ5Lm9wcG9uZW50cy5tYXAob3Bwb25lbnQgPT4gYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7b3Bwb25lbnQubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtvcHBvbmVudC5nYW1lc1BsYXllZH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtvcHBvbmVudC53aW5zfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke29wcG9uZW50Lmxvc3Nlc308L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHsob3Bwb25lbnQud2lucyAvIG9wcG9uZW50LmdhbWVzUGxheWVkICogMTAwKS50b0ZpeGVkKDIpfSU8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGApLmpvaW4oJycpO1xuXG4gICAgICAgIHRhYnNDb250YWluZXIuYXBwZW5kQ2hpbGQodGFic0hlYWRlcik7XG4gICAgICAgIHRhYnNDb250YWluZXIuYXBwZW5kQ2hpbGQodGFic0NvbnRlbnQpO1xuICAgICAgICBwbGF5ZXJUYWJzLmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciBleGlzdGluZyBjb250ZW50XG4gICAgICAgIHBsYXllclRhYnMuYXBwZW5kQ2hpbGQodGFic0NvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gQWRkIGNsaWNrIGhhbmRsZXJzIGZvciB0YWJzXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJykuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJykuZm9yRWFjaChidG4gPT4gXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1jb250ZW50JykuZm9yRWFjaChjb250ZW50ID0+IFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRhYi0ke2J1dHRvbi5kYXRhc2V0LnBsYXllcn1gKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGdhbWUgc3VtbWFyeTonLCBlcnJvcikpO1xufVxuXG4vLyBBZGQgdGhpcyBuZXcgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIGxhc3QgMTAgZ2FtZXMgcGVyZm9ybWFuY2VcbmZ1bmN0aW9uIGdldExhc3RUZW5HYW1lc1BlcmZvcm1hbmNlKHBsYXllciwgYWxsR2FtZXMpIHtcbiAgICAvLyBHZXQgYWxsIGdhbWVzIGZvciB0aGlzIHBsYXllciAoZWl0aGVyIGFzIHBsYXllcjEgb3IgcGxheWVyMilcbiAgICBjb25zdCBwbGF5ZXJHYW1lcyA9IGFsbEdhbWVzXG4gICAgICAgIC5maWx0ZXIoZ2FtZSA9PiBnYW1lLnBsYXllcjEgPT09IHBsYXllciB8fCBnYW1lLnBsYXllcjIgPT09IHBsYXllcilcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZGF0ZSkgLSBuZXcgRGF0ZShhLmRhdGUpKSAvLyBTb3J0IGJ5IGRhdGUgZGVzY2VuZGluZ1xuICAgICAgICAuc2xpY2UoMCwgMTApOyAvLyBHZXQgbGFzdCAxMCBnYW1lc1xuXG4gICAgLy8gQ291bnQgd2lucyBpbiB0aGVzZSBnYW1lc1xuICAgIGNvbnN0IHdpbnMgPSBwbGF5ZXJHYW1lcy5maWx0ZXIoZ2FtZSA9PiBnYW1lLndpbm5lciA9PT0gcGxheWVyKS5sZW5ndGg7XG4gICAgcmV0dXJuIGAke3dpbnN9LyR7cGxheWVyR2FtZXMubGVuZ3RofWA7IC8vIEZvcm1hdCBhcyBcIndpbnMvZ2FtZXNcIlxufVxuXG4vLyBVcGRhdGUgdGhlIGdlbmVyYXRlTGVhZGVyYm9hcmQgZnVuY3Rpb25cbmZ1bmN0aW9uIGdlbmVyYXRlTGVhZGVyYm9hcmQocGxheWVyU3VtbWFyaWVzLCBhbGxHYW1lcykge1xuICAgIGxldCBvdmVyYWxsRGF0YSA9IFtdO1xuXG4gICAgT2JqZWN0LnZhbHVlcyhwbGF5ZXJTdW1tYXJpZXMpLmZvckVhY2gocGxheWVyU3VtbWFyeSA9PiB7XG4gICAgICAgIG92ZXJhbGxEYXRhLnB1c2goe1xuICAgICAgICAgICAgcGxheWVyOiBwbGF5ZXJTdW1tYXJ5LnBsYXllcixcbiAgICAgICAgICAgIC4uLmFnZ3JlZ2F0ZU92ZXJhbGxEYXRhKHBsYXllclN1bW1hcnkub3Bwb25lbnRzKSxcbiAgICAgICAgICAgIGxhc3RUZW46IGdldExhc3RUZW5HYW1lc1BlcmZvcm1hbmNlKHBsYXllclN1bW1hcnkucGxheWVyLCBhbGxHYW1lcylcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBTb3J0IGJ5IHdpblBlcmNlbnRhZ2UgZGVzY1xuICAgIG92ZXJhbGxEYXRhLnNvcnQoKGEsIGIpID0+IGIud2luUGVyY2VudGFnZSAtIGEud2luUGVyY2VudGFnZSk7XG5cbiAgICBsZXQgbGVhZGVyYm9hcmRIVE1MID0gYFxuICAgICAgICA8aDI+PGkgY2xhc3M9XCJmYXMgZmEtY3Jvd25cIj48L2k+IFBvd2VyIFJhbmtpbmdzPC9oMj5cbiAgICAgICAgPHRhYmxlIGNsYXNzPVwic3VtbWFyeS10YWJsZVwiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPlBsYXllcjwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5HYW1lczwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5XaW5zPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoPkxvc3NlczwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5XaW4gJTwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aD5MYXN0IDEwPC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICBgO1xuXG4gICAgb3ZlcmFsbERhdGEuZm9yRWFjaCgocGxheWVyRGF0YSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcmFua0NsYXNzID0gaW5kZXggPT09IDAgPyAncmFuay1nb2xkJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID09PSAxID8gJ3Jhbmstc2lsdmVyJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID09PSAyID8gJ3JhbmstYnJvbnplJyA6ICcnO1xuICAgICAgICBjb25zdCBtZWRhbENsYXNzID0gaW5kZXggPT09IDAgPyAnbWVkYWwtZ29sZCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IDEgPyAnbWVkYWwtc2lsdmVyJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gMiA/ICdtZWRhbC1icm9uemUnIDogJyc7XG4gICAgICAgIFxuICAgICAgICBsZWFkZXJib2FyZEhUTUwgKz0gYFxuICAgICAgICAgICAgPHRyIGNsYXNzPVwiJHtyYW5rQ2xhc3N9XCI+XG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtbGFiZWw9XCJQbGF5ZXJcIj48c3BhbiBjbGFzcz1cIiR7bWVkYWxDbGFzc31cIj4ke3BsYXllckRhdGEucGxheWVyfTwvc3Bhbj48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiR2FtZXNcIj4ke3BsYXllckRhdGEudG90YWxHYW1lc308L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiV2luc1wiPiR7cGxheWVyRGF0YS50b3RhbFdpbnN9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgZGF0YS1sYWJlbD1cIkxvc3Nlc1wiPiR7cGxheWVyRGF0YS50b3RhbExvc3Nlc308L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiV2luICVcIj4ke3BsYXllckRhdGEud2luUGVyY2VudGFnZX0lPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgZGF0YS1sYWJlbD1cIkxhc3QgMTBcIj4ke3BsYXllckRhdGEubGFzdFRlbn08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgYDtcbiAgICB9KTtcblxuICAgIGxlYWRlcmJvYXJkSFRNTCArPSBgXG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgIGA7XG5cbiAgICByZXR1cm4gbGVhZGVyYm9hcmRIVE1MO1xufVxuXG4vLyBBc3N1bWluZyBwbGF5ZXJTdW1tYXJpZXMgaXMgYW4gYXJyYXkgY29udGFpbmluZyBwbGF5ZXIgc3VtbWFyeSBvYmplY3RzIHdpdGggcGVyLW9wcG9uZW50IGRhdGFcbi8vIEZ1bmN0aW9uIHRvIGFnZ3JlZ2F0ZSBwZXItb3Bwb25lbnQgZGF0YSB0byBjYWxjdWxhdGUgb3ZlcmFsbCBzdGF0aXN0aWNzXG5mdW5jdGlvbiBhZ2dyZWdhdGVPdmVyYWxsRGF0YShwbGF5ZXJTdW1tYXJpZXMpIHtcbiAgICAvLyBJbml0aWFsaXplIHZhcmlhYmxlcyB0byBzdG9yZSBvdmVyYWxsIHN0YXRpc3RpY3NcbiAgICBsZXQgdG90YWxHYW1lcyA9IDA7XG4gICAgbGV0IHRvdGFsV2lucyA9IDA7XG4gICAgbGV0IHRvdGFsTG9zc2VzID0gMDtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBlYWNoIHBsYXllciBzdW1tYXJ5IHRvIGFnZ3JlZ2F0ZSBkYXRhXG4gICAgcGxheWVyU3VtbWFyaWVzLmZvckVhY2gocGxheWVyU3VtbWFyeSA9PiB7XG4gICAgICAgIC8vIEluY3JlbWVudCB0b3RhbCBnYW1lc1xuICAgICAgICB0b3RhbEdhbWVzICs9IHBsYXllclN1bW1hcnkuZ2FtZXNQbGF5ZWQ7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRvdGFsIHdpbnNcbiAgICAgICAgdG90YWxXaW5zICs9IHBsYXllclN1bW1hcnkud2lucztcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdG90YWwgbG9zc2VzXG4gICAgICAgIHRvdGFsTG9zc2VzICs9IHBsYXllclN1bW1hcnkubG9zc2VzO1xuICAgIH0pO1xuXG4gICAgLy8gQ2FsY3VsYXRlIG92ZXJhbGwgd2luIHBlcmNlbnRhZ2VcbiAgICBjb25zdCB3aW5QZXJjZW50YWdlID0gdG90YWxHYW1lcyA+IDAgPyAoKHRvdGFsV2lucyAvIHRvdGFsR2FtZXMpICogMTAwKS50b0ZpeGVkKDIpIDogMDtcblxuICAgIC8vIFJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYWdncmVnYXRlZCBvdmVyYWxsIGRhdGFcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbEdhbWVzLFxuICAgICAgICB0b3RhbFdpbnMsXG4gICAgICAgIHRvdGFsTG9zc2VzLFxuICAgICAgICB3aW5QZXJjZW50YWdlXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyR2FtZXNCeVllYXIoeWVhcikge1xuICAgIGNvbnN0IHllYXJQYXJhbSA9IHllYXIgPj0gMjAyNSA/IHllYXIgOiAnJztcbiAgICBnZXRHYW1lUmVjb3Jkcyh5ZWFyUGFyYW0pO1xuICAgIGdldEdhbWVTdW1tYXJ5KHllYXJQYXJhbSk7XG5cbiAgICAvLyBVcGRhdGUgYWN0aXZlIHN0YXRlIG9mIHllYXIgYnV0dG9uc1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5ZWFyMjAyNScpLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHllYXIgPT09IDIwMjUpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5ZWFyMjAyNCcpLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHllYXIgPT09IDIwMjQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVQbGF5ZXJPcHRpb25zKCkge1xuICAgIGNvbnN0IHBsYXllcjFTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyMScpO1xuICAgIGNvbnN0IHBsYXllcjJTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyMicpO1xuICAgIGNvbnN0IHBsYXllcjFWYWx1ZSA9IHBsYXllcjFTZWxlY3QudmFsdWU7XG4gICAgY29uc3QgcGxheWVyMlZhbHVlID0gcGxheWVyMlNlbGVjdC52YWx1ZTtcblxuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIHdoZW4gdmFsdWVzIGNoYW5nZVxuICAgIGlmIChwbGF5ZXIxVmFsdWUpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0UGxheWVyMScsIHBsYXllcjFWYWx1ZSk7XG4gICAgaWYgKHBsYXllcjJWYWx1ZSkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3RQbGF5ZXIyJywgcGxheWVyMlZhbHVlKTtcblxuICAgIGNvbnN0IGFsbE9wdGlvbnMgPSBbJ0FrYXNoJywgJ0FkaXR5YScsICdBbnVyYWcnLCAnQnVtYnUnLCAnS2FyYW4nLCAnSHRpa2UnLCAnTWFudScsICdSaXNoYWJoJywgJ1NhYmFyaSddO1xuXG4gICAgcGxheWVyMVNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBQbGF5ZXIgMTwvb3B0aW9uPic7XG4gICAgcGxheWVyMlNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBQbGF5ZXIgMjwvb3B0aW9uPic7XG5cbiAgICBhbGxPcHRpb25zLmZvckVhY2gocGxheWVyID0+IHtcbiAgICAgICAgaWYgKHBsYXllciAhPT0gcGxheWVyMlZhbHVlKSB7XG4gICAgICAgICAgICBwbGF5ZXIxU2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7cGxheWVyfVwiPiR7cGxheWVyfTwvb3B0aW9uPmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYXllciAhPT0gcGxheWVyMVZhbHVlKSB7XG4gICAgICAgICAgICBwbGF5ZXIyU2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7cGxheWVyfVwiPiR7cGxheWVyfTwvb3B0aW9uPmA7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHBsYXllcjFTZWxlY3QudmFsdWUgPSBwbGF5ZXIxVmFsdWU7XG4gICAgcGxheWVyMlNlbGVjdC52YWx1ZSA9IHBsYXllcjJWYWx1ZTtcbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgIC8vIFNldCBkZWZhdWx0IGRhdGUgdG8gdG9kYXlcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSB0b2RheTtcbiAgICBcbiAgICAvLyBTZXQgZGVmYXVsdCBzY29yZXMgdG8gMjFcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUxJykudmFsdWUgPSBcIjIxXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlMicpLnZhbHVlID0gXCIyMVwiO1xuICAgIFxuICAgIC8vIEdldCBsYXN0IHNlbGVjdGVkIHBsYXllcnMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBsYXN0UGxheWVyMSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0UGxheWVyMScpO1xuICAgIGNvbnN0IGxhc3RQbGF5ZXIyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RQbGF5ZXIyJyk7XG4gICAgXG4gICAgaWYgKGxhc3RQbGF5ZXIxKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyMScpLnZhbHVlID0gbGFzdFBsYXllcjE7XG4gICAgaWYgKGxhc3RQbGF5ZXIyKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyMicpLnZhbHVlID0gbGFzdFBsYXllcjI7XG4gICAgXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcjEnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVQbGF5ZXJPcHRpb25zKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyMicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZVBsYXllck9wdGlvbnMpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3llYXIyMDI1JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWx0ZXJHYW1lc0J5WWVhcigyMDI1KSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3llYXIyMDI0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWx0ZXJHYW1lc0J5WWVhcigyMDI0KSk7XG5cbi8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBmb3JtIHN1Ym1pc3Npb25cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVGb3JtXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShlLnRhcmdldCk7XG5cbiAgICAgICAgbGV0IHBsYXllcjFOYW1lID0gZm9ybURhdGEuZ2V0KFwicGxheWVyMVwiKVxuICAgICAgICBsZXQgcGxheWVyMk5hbWUgPSBmb3JtRGF0YS5nZXQoXCJwbGF5ZXIyXCIpXG4gICAgICAgIGxldCBzY29yZTEgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJzY29yZTFcIikpXG4gICAgICAgIGxldCBzY29yZTIgPSBwYXJzZUludChmb3JtRGF0YS5nZXQoXCJzY29yZTJcIikpXG5cbiAgICAgICAgY29uc3QgZ2FtZURhdGEgPSB7XG4gICAgICAgICAgICBkYXRlOiBmb3JtRGF0YS5nZXQoXCJkYXRlXCIpLFxuICAgICAgICAgICAgcGxheWVyMTogcGxheWVyMU5hbWUsXG4gICAgICAgICAgICBwbGF5ZXIyOiBwbGF5ZXIyTmFtZSxcbiAgICAgICAgICAgIHNjb3JlOiB7XG4gICAgICAgICAgICAgICAgcGxheWVyMTogc2NvcmUxLFxuICAgICAgICAgICAgICAgIHBsYXllcjI6IHNjb3JlMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdpbm5lcjogc2NvcmUxID4gc2NvcmUyID8gcGxheWVyMU5hbWUgOiBwbGF5ZXIyTmFtZVxuICAgICAgICB9O1xuICAgICAgICAvLyBDYWxsIGZ1bmN0aW9uIHRvIGFkZCBnYW1lIHJlY29yZFxuICAgICAgICBhZGRHYW1lUmVjb3JkKGdhbWVEYXRhKTtcblxuICAgICAgICAvLyBDbGVhciBmb3JtIGZpZWxkcyBhZnRlciBzdWJtaXNzaW9uXG4gICAgICAgIGUudGFyZ2V0LnJlc2V0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBJbml0aWFsaXplIGZldGNoIGZ1bmN0aW9uc1xuICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICAgIGZpbHRlckdhbWVzQnlZZWFyKGN1cnJlbnRZZWFyKTtcblxuICAgIC8vIEFkZCB5ZWFyIHNlbGVjdCBoYW5kbGVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3llYXJTZWxlY3QnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICBmaWx0ZXJHYW1lc0J5WWVhcihwYXJzZUludChlLnRhcmdldC52YWx1ZSkpO1xuICAgIH0pO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgeWVhciBpbiBkcm9wZG93blxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5ZWFyU2VsZWN0JykudmFsdWUgPSBcIjIwMjVcIjtcbn0pO1xuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/ticker.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./public/ticker.js"]();
/******/ 	
/******/ })()
;